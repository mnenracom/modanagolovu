# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Edge Function –¥–ª—è –Æ–ö–∞—Å—Å—ã (—á–µ—Ä–µ–∑ Dashboard)

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:
- ‚úÖ –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞ –≤ `supabase/functions/create-yookassa-payment/index.ts`
- ‚úÖ –ö–æ–¥ –∫–ª–∏–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `supabase/config.toml`

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Dashboard (5 –º–∏–Ω—É—Ç):

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Dashboard
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://app.supabase.com
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `vielcegrqrgkhsvudrga`

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ Edge Function
1. –í –ª–µ–≤–æ–º –º–µ–Ω—é –Ω–∞–π–¥–∏—Ç–µ **Edge Functions** (–∏–ª–∏ **Functions**)
2. –ù–∞–∂–º–∏—Ç–µ **"Create a new function"** –∏–ª–∏ **"New Function"**
3. –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏: **`create-yookassa-payment`**
4. –ù–∞–∂–º–∏—Ç–µ **"Create function"**

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –∫–æ–¥
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –∫–æ–¥** –∏–∑ —Ñ–∞–π–ª–∞ `supabase/functions/create-yookassa-payment/index.ts`
2. –í—Å—Ç–∞–≤—å—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤ Dashboard
3. –ù–∞–∂–º–∏—Ç–µ **"Deploy"** –∏–ª–∏ **"Save & Deploy"**

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
```
https://vielcegrqrgkhsvudrga.supabase.co/functions/v1/create-yookassa-payment
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞ —Å –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–æ–π:
- –ó–∞–∫–∞–∑ —Å–æ–∑–¥–∞–µ—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ü–ª–∞—Ç–µ–∂ —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Edge Function (–±–µ–∑ CORS –æ—à–∏–±–æ–∫)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã –Æ–ö–∞—Å—Å—ã

---

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–µ—Å–ª–∏ Dashboard –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):

–ï—Å–ª–∏ —É –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ Edge Functions –≤ Dashboard, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase CLI:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ CLI –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏: https://github.com/supabase/cli#install-the-cli

2. –î–ª—è Windows:
   ```powershell
   # –ß–µ—Ä–µ–∑ Scoop
   scoop bucket add supabase https://github.com/supabase/scoop-bucket.git
   scoop install supabase
   
   # –ò–ª–∏ —á–µ—Ä–µ–∑ winget
   winget install Supabase.CLI
   ```

3. –í–æ–π–¥–∏—Ç–µ:
   ```bash
   supabase login
   ```

4. –°–≤—è–∂–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:
   ```bash
   supabase link --project-ref vielcegrqrgkhsvudrga
   ```

5. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é:
   ```bash
   supabase functions deploy create-yookassa-payment
   ```

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è:

- Edge Function –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏
- –§—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ Supabase, –ø–æ—ç—Ç–æ–º—É –Ω–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- –ö–ª—é—á–∏ –Æ–ö–∞—Å—Å—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç - –æ–Ω–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ Edge Function

---

**–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑ —Å –æ–Ω–ª–∞–π–Ω-–æ–ø–ª–∞—Ç–æ–π!** üéâ




